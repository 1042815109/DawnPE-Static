# 大文件下载

将分片文件自动合并后下载

## 功能特点

- 🔄 **自动文件重组**: 自动将分片文件重组为完整文件
- ⚡ **流式传输**: 使用8MB缓冲区，内存占用低
- 💻 **命令行友好**: 完美支持wget、curl等命令行下载工具
- 🌐 **浏览器支持**: 同时支持浏览器直接下载
- 📱 **多平台**: 支持Windows、Linux、macOS等所有平台

## 文件结构

```
staic-web/
├── public/
│   ├── index.html          # 默认页面
│   ├── config.json         # 静态资源列表
│   ├── StreamSaver.min.js  # 兼容性优化
│   ├── chunks/
│   │   └── {file-dirs}/    # 分片文件目录
└── README.md                  # 说明文档
```

## 使用方法

### 浏览器下载

访问 `https://static.minigg.cn/` 查看下载页面，选择需要的文件进行下载。

### 响应头

下载API会返回以下响应头：

- `Content-Disposition`: 指定下载文件名
- `X-File-Name`: 文件名
- `X-File-Size`: 估算文件大小
- `X-Chunks-Count`: 分片数量

## 配置说明

在 `public/src/config.json` 中配置可下载的文件：

```json
{
  "files": [
    {
      "name": "文件名",
      "chunks": ["分片1", "分片2", ...]
    }
  ]
}
```

### 内存优化

- 流式传输避免内存溢出

### 错误处理

- 分片下载失败自动重试

### 性能优化

- 极速下载使用纯内存并行处理
- 普通下载使用FSAA节省内存


## 故障排除

### 常见问题

1. **下载中断**: 检查网络连接，工具会自动重试
2. **内存不足**: 系统已优化内存使用，如仍有问题可使用普通下载
3. **文件损坏**: 下载完成后验证文件完整性
